{% extends "main/base.html" %}
{% from 'global_macros.html' import input, DMLogo %}

{% block content %}
    <div class="row">
        <div class="col s12 l4 offset-l4">
            <div class="card">
                <div class="card-content">
                    <div class="row center-align">
                        {{ DMLogo() }}
                    </div>
                    <div class="row">
                        <form class="login-form" method="POST" data-url="{{ url_for('user_system.check_login') }}">
                            {{ form.hidden_tag() }}

                            {{ input(
                            form_obj=form.username,
                            size="s12",
                            icon="person",
                            label="Username",
                            id="login-form-username"
                            ) }}

                            {{ input(
                            form_obj=form.password,
                            size="s12",
                            icon="lock_outline",
                            label="Password",
                            id="login-form-password"
                            ) }}

                            <div class="switch">
                                <label>
                                    {{ form.remember(type="checkbox", checked="true") }}
                                    <span class="lever"></span>
                                    Remember Me
                                </label>
                            </div>


                            <div class="input-field col s12">
                                <button type=submit class="btn theme-primary waves-effect waves-light right">Sign in</button>
                            </div>

                        </form>
                    </div>
                </div>
                <div class="card-action theme-secondary-text">
                    {{ dm_version }}
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block page_lvl_js %}
    {{ process_js_sources(src="main/login.js")|safe }}
{% endblock page_lvl_js %}